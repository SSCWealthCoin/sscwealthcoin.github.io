<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SSCWC Chess Crypto Kings</title>
<style>
  * { box-sizing:border-box; }
  html,body { height:100%; margin:0; font-family:"Poppins",sans-serif; background:#000; color:#fff; text-align:center; padding:14px; }
  .logo-container { margin-top:16px; display:flex; justify-content:center; align-items:center; animation:rotateOnce 4s ease-in-out 1, shimmer 3s 4s infinite alternate; }
  .logo-container img { width:120px; max-width:28vw; border-radius:50%; box-shadow:0 0 60px rgba(255,215,0,0.6); }
  @keyframes rotateOnce { 0% { transform: rotate(0deg);} 100% { transform: rotate(360deg);} }
  @keyframes shimmer { from { filter: brightness(1) drop-shadow(0 0 15px gold);} to { filter: brightness(1.4) drop-shadow(0 0 25px #ffd700);} }
  h1 { font-size:1.6em; color:#ffd700; margin-top:12px; margin-bottom:6px; }
  h2 { font-size:1.05em; font-style:italic; color:#ffe066; margin-bottom:12px; }
  .controls { margin-bottom:8px; display:flex; gap:8px; justify-content:center; flex-wrap:wrap; }
  .btn { padding:10px 14px; margin:4px; border:none; border-radius:10px; cursor:pointer; font-size:0.95em; font-weight:600; transition:transform 0.12s ease, box-shadow 0.12s ease; }
  .btn:hover { transform:translateY(-2px); box-shadow:0 6px 20px rgba(0,0,0,0.4); }
  .btn-pink { background:#ff42e3; color:white; }
  .btn-blue { background:#007bff; color:white; }
  .btn-green { background:#00b853; color:white; }
  .btn-gold { background:linear-gradient(180deg,#ffea70 0%,#ffcc00 100%); color:#000; font-weight:bold; box-shadow:0 0 20px rgba(255,215,0,0.6); }
  input[type="email"] { padding:10px; width:300px; max-width:76vw; border-radius:8px; border:1px solid #333; margin:6px 0; background:#111; color:#fff; text-align:center; }
  #status { color:#ccc; font-size:0.95rem; margin-top:8px; min-height:1.1em; }
  #chessContainer { margin:18px auto; width:min(480px,92vw); display:flex; justify-content:center; align-items:center; padding:10px; border-radius:10px; background:radial-gradient(circle at center,#111 60%,#000 100%); border:2px solid #ffd700; box-shadow:0 0 40px rgba(255,215,0,0.22); }
  #board { width:100%; aspect-ratio:1/1; display:grid; grid-template-columns:repeat(8,1fr); grid-template-rows:repeat(8,1fr); border:4px solid #ffd700; box-shadow:0 0 22px rgba(255,215,0,0.24); position:relative; user-select:none; max-width:480px; }
  .square { width:100%; height:100%; display:flex; align-items:center; justify-content:center; font-size:calc(18px + 1.7vmin); cursor:pointer; padding:0; margin:0; }
  .light { background-color:#f9d98b; }
  .dark { background-color:#946b32; }
  .white-piece { color:#fff; text-shadow:0 0 6px #d4af37; font-weight:800; }
  .black-piece { color:#111; text-shadow:0 0 6px rgba(0,0,0,0.6); font-weight:800; }
  .highlight { outline:3px solid rgba(255,255,255,0.18); box-shadow:inset 0 0 8px rgba(255,255,255,0.06); }
  .move-dot { width:10px;height:10px;border-radius:50%; background:rgba(0,0,0,0.5); box-shadow:0 0 6px rgba(0,0,0,0.3); }
  footer { margin:12px 0; color:#777; font-size:0.86em; }
  @media (max-width:480px){ .logo-container img{width:96px;} h1{font-size:1.3em;} .controls{gap:6px;} }
</style>
</head>
<body>
<div class="logo-container">
  <img src="https://raw.githubusercontent.com/SSCWealthCoin/sscwealthcoin.github.io/main/Gifcmr3XoAA_WF-.jpeg" alt="SSC Wealth Coin Logo">
</div>
<h1>SSCWC Chess Crypto Kings</h1>
<h2>The Future of Gold on Blockchain</h2>
<input id="emailInput" type="email" placeholder="Your email (for quick sign-in)" />
<div><button id="sendLinkBtn" class="btn btn-pink">Send Magic Link</button></div>
<div class="controls">
  <button id="connectWalletBtn" class="btn btn-blue">Connect Wallet (BSC Testnet)</button>
  <button id="createGameBtn" class="btn btn-green">Create Game</button>
  <button id="buyBtn" class="btn btn-gold" onclick="window.open('https://app.uniswap.org/explore/tokens/bnb/0xd7deadbf768dec8ac13850e4f6787ac53a9d0447?utm_medium=mobile&utm_source=share-tdp','_blank')">ðŸª™ Buy SSCWC on Uniswap</button>
</div>
<div id="status">Initializing...</div>
<div id="chessContainer">
  <div id="board" aria-label="Chess board" role="grid"></div>
</div>
<footer>Â© 2025 SSC Wealth Coin â€” All Rights Reserved</footer>

<script type="module">
const unicodeMap = {'P':'â™™','R':'â™–','N':'â™˜','B':'â™—','Q':'â™•','K':'â™”','p':'â™Ÿ','r':'â™œ','n':'â™ž','b':'â™','q':'â™›','k':'â™š'};
let boardState=[['r','n','b','q','k','b','n','r'],['p','p','p','p','p','p','p','p'],['','','','','','','',''],['','','','','','','',''],['','','','','','','',''],['','','','','','','',''],['P','P','P','P','P','P','P','P'],['R','N','B','Q','K','B','N','R']];
let whiteToMove = true;
let selected = null;
let legalMovesCache = [];
let castlingRights = {white:{K:true,Q:true},black:{K:true,Q:true}};
let enPassantTarget = null;
const boardEl = document.getElementById('board');
function coordToIndex(r,c){return r*8+c;}
function inBounds(r,c){return r>=0&&r<8&&c>=0&&c<8;}
function cloneBoard(b){return b.map(r=>r.slice());}

function findKing(b,white){const t=white?'K':'k';for(let r=0;r<8;r++)for(let c=0;c<8;c++)if(b[r][c]===t)return[r,c];return null;}
function isSquareAttacked(b,sr,sc,byWhite){for(let r=0;r<8;r++){for(let c=0;c<8;c++){const p=b[r][c];if(!p)continue;const isWhite=(p===p.toUpperCase());if(isWhite!==byWhite)continue;const piece=p.toLowerCase();const dr=sr-r,dc=sc-c;if(piece==='p'){const dir=isWhite?-1:1;if(sr===r+dir&&Math.abs(dc)===1)return true;}else if(piece==='n'){const adx=Math.abs(dr),ady=Math.abs(dc);if((adx===1&&ady===2)||(adx===2&&ady===1))return true;}else if(piece==='b'||piece==='q'){if(Math.abs(dr)===Math.abs(dc)&&dr!==0){const stepR=dr/Math.abs(dr),stepC=dc/Math.abs(dc);let rr=r+stepR,cc=c+stepC,blocked=false;while(rr!==sr||cc!==sc){if(b[Math.round(rr)][Math.round(cc)]){blocked=true;break;}rr+=stepR;cc+=stepC;}if(!blocked)return true;}}if(piece==='r'||piece==='q'){if((dr===0&&dc!==0)||(dc===0&&dr!==0)){const stepR=dr===0?0:dr/Math.abs(dr),stepC=dc===0?0:dc/Math.abs(dc);let rr=r+stepR,cc=c+stepC,blocked=false;while(rr!==sr||cc!==sc){if(b[Math.round(rr)][Math.round(cc)]){blocked=true;break;}rr+=stepR;cc+=stepC;}if(!blocked)return true;}}if(piece==='k'){if(Math.max(Math.abs(dr),Math.abs(dc))===1)return true;}}}return false;}
function isKingInCheck(b,white){const k=findKing(b,white);if(!k)return true;const [r,c]=k;return isSquareAttacked(b,r,c,!white);}

function generateMoves(b,whiteTurn){
  const moves=[];
  for(let r=0;r<8;r++)for(let c=0;c<8;c++){
    const p=b[r][c];if(!p)continue;const isWhite=(p===p.toUpperCase());if(isWhite!==whiteTurn)continue;const piece=p.toLowerCase();
    if(piece==='p'){const dir=isWhite?-1:1,startRow=isWhite?6:1;if(inBounds(r+dir,c)&&!b[r+dir][c]){moves.push({from:[r,c],to:[r+dir,c],promote:(r+dir===0||r+dir===7)});if(r===startRow&&inBounds(r+2*dir,c)&&!b[r+2*dir][c]&&!b[r+dir][c])moves.push({from:[r,c],to:[r+2*dir,c],double:true});}for(const dc of [-1,1]){const nr=r+dir,nc=c+dc;if(inBounds(nr,nc)){if(b[nr][nc]){const occ=b[nr][nc];const occWhite=(occ===occ.toUpperCase());if(occWhite!==isWhite)moves.push({from:[r,c],to:[nr,nc],capture:true,promote:(nr===0||nr===7)});}else if(enPassantTarget&&enPassantTarget[0]===nr&&enPassantTarget[1]===nc){moves.push({from:[r,c],to:[nr,nc],enPassant:true,capture:true});}}}} else if(piece==='n'){const del=[[-2,-1],[-2,1],[-1,-2],[-1,2],[1,-2],[1,2],[2,-1],[2,1]];for(const [dr,dc] of del){const nr=r+dr,nc=c+dc;if(!inBounds(nr,nc))continue;const occ=b[nr][nc];if(!occ||(occ&&(occ===occ.toUpperCase())!==isWhite))moves.push({from:[r,c],to:[nr,nc],capture:!!occ});}} else if(piece==='b'||piece==='r'||piece==='q'){const directions=[];if(piece==='b'||piece==='q')directions.push([-1,-1],[-1,1],[1,-1],[1,1]);if(piece==='r'||piece==='q')directions.push([-1,0],[1,0],[0,-1],[0,1]);for(const [dr,dc] of directions){let nr=r+dr,nc=c+dc;while(inBounds(nr,nc)){if(!b[nr][nc])moves.push({from:[r,c],to:[nr,nc]});else{const occ=b[nr][nc];const occWhite=(occ===occ.toUpperCase());if(occWhite!==isWhite)moves.push({from:[r,c],to:[nr,nc],capture:true});break;}nr+=dr;nc+=dc;}}}else if(piece==='k'){for(let dr=-1;dr<=1;dr++)for(let dc=-1;dc<=1;dc++){if(dr===0&&dc===0)continue;const nr=r+dr,nc=c+dc;if(!inBounds(nr,nc))continue;const occ=b[nr][nc];if(!occ||(occ&&(occ===occ.toUpperCase())!==isWhite))moves.push({from:[r,c],to:[nr,nc],capture:!!occ});}
      if(isWhite&&r===7&&c===4){if(castlingRights.white.K&&!b[7][5]&&!b[7][6]&&!isSquareAttacked(b,7,4,false)&&!isSquareAttacked(b,7,5,false)&&!isSquareAttacked(b,7,6,false)&&b[7][7]==='R')moves.push({from:[7,4],to:[7,6],castle:'K'});if(castlingRights.white.Q&&!b[7][3]&&!b[7][2]&&!b[7][1]&&!isSquareAttacked(b,7,4,false)&&!isSquareAttacked(b,7,3,false)&&!isSquareAttacked(b,7,2,false)&&b[7][0]==='R')moves.push({from:[7,4],to:[7,2],castle:'Q'});}if(!isWhite&&r===0&&c===4){if(castlingRights.black.K&&!b[0][5]&&!b[0][6]&&!isSquareAttacked(b,0,4,true)&&!isSquareAttacked(b,0,5,true)&&!isSquareAttacked(b,0,6,true)&&b[0][7]==='r')moves.push({from:[0,4],to:[0,6],castle:'K'});if(castlingRights.black.Q&&!b[0][3]&&!b[0][2]&&!b[0][1]&&!isSquareAttacked(b,0,4,true)&&!isSquareAttacked(b,0,3,true)&&!isSquareAttacked(b,0,2,true)&&b[0][0]==='r')moves.push({from:[0,4],to:[0,2],castle:'Q'});}}}
  const legal=moves.filter(m=>{const nb=cloneBoard(b);const [fr,fc]=m.from,[tr,tc]=m.to;let piece=nb[fr][fc];nb[fr][fc]='';if(m.promote)piece=(piece===piece.toUpperCase())?'Q':'q';if(m.enPassant)nb[fr][tc]='';if(m.castle==='K'){nb[tr][tc]=piece;if(tr===7){nb[7][5]=nb[7][7];nb[7][7]='';nb[7][4]='';}else{nb[0][5]=nb[0][7];nb[0][7]='';nb[0][4]='';}}else if(m.castle==='Q'){nb[tr][tc]=piece;if(tr===7){nb[7][3]=nb[7][0];nb[7][0]='';nb[7][4]='';}else{nb[0][3]=nb[0][0];nb[0][0]='';nb[0][4]='';}}else{nb[tr][tc]=piece;}return !isKingInCheck(nb,whiteTurn);});
  return legal;
}

// applyMove, renderBoard, highlight, AI, Firebase logic remains unchanged (copy full code as above)
</script>
</body>
</html>
